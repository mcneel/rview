(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"713b":function(e,i,t){"use strict";t.r(i);var l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("q-layout",{attrs:{view:"hHh lpR fFf"}},[t("q-header",{attrs:{elevated:""}},[t("q-toolbar",[t("q-btn",{attrs:{dense:"",flat:!e.fileDrawerVisible,icon:"folder",color:e.fileDrawerVisible?"secondary":""},on:{click:function(i){return e.toggleDrawer(e.drawers.FILE)}}},[t("q-tooltip",[e._v("Open...")])],1),t("q-btn",{attrs:{dense:"",flat:!e.layerDrawerVisible,color:e.layerDrawerVisible?"secondary":"",icon:"layers",disable:!e.model1Exists},on:{click:function(i){return e.toggleDrawer(e.drawers.LAYER)}}},[t("q-tooltip",[e._v("Layers")])],1),t("q-btn",{attrs:{dense:"",flat:!e.viewDrawerVisible,color:e.viewDrawerVisible?"secondary":"",icon:"aspect_ratio",disable:!e.model1Exists},on:{click:function(i){return e.toggleDrawer(e.drawers.VIEW)}}},[t("q-tooltip",[e._v("Display options")])],1),t("q-toolbar-title"),t("div",[e._v(e._s(e.title))])],1)],1),t("q-drawer",{attrs:{bordered:"",overlay:"","content-class":"bg-grey-2"},model:{value:e.fileDrawerVisible,callback:function(i){e.fileDrawerVisible=i},expression:"fileDrawerVisible"}},[t("q-list",{attrs:{bordered:""}},[t("q-item",[t("q-item-section",[e._v("Model 1")])],1),t("q-item",{attrs:{"inset-level":.3}},[t("q-item-section",[e._v("Open Sample")]),t("q-item-section",{attrs:{avatar:""}},[t("q-btn-dropdown",{attrs:{icon:"img:logo.png"}},[t("q-list",e._l(e.sampleModels,(function(i){return t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:i,attrs:{clickable:""},on:{click:function(t){return e.openSample(i,!0)}}},[t("q-item-section",[t("q-item-label",[e._v(e._s(i))])],1)],1)})),1)],1)],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{"inset-level":.3,clickable:""},on:{click:function(i){return e.openFile(!1)}}},[t("q-item-section",[e._v("Open...")]),t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{color:"primary",name:"folder"}})],1)],1)],1),t("q-list",[t("q-item",{attrs:{disable:!e.model1Exists}},[t("q-item-section",[e._v("Model 2")])],1),t("q-item",{attrs:{"inset-level":.3,disable:!e.model1Exists}},[t("q-item-section",[e._v("Open Sample")]),t("q-item-section",{attrs:{avatar:""}},[t("q-btn-dropdown",{attrs:{icon:"img:logo.png"}},[t("q-list",e._l(e.sampleModels,(function(i){return t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:i,attrs:{clickable:""},on:{click:function(t){return e.openSample(i,!1)}}},[t("q-item-section",[t("q-item-label",[e._v(e._s(i))])],1)],1)})),1)],1)],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{"inset-level":.3,clickable:"",disable:!e.model1Exists},on:{click:function(i){return e.openFile(!0)}}},[t("q-item-section",[e._v("Open...")]),t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{color:"primary",name:"folder"}})],1)],1)],1)],1),t("q-drawer",{attrs:{bordered:"",overlay:"","content-class":"bg-grey-2"},model:{value:e.layerDrawerVisible,callback:function(i){e.layerDrawerVisible=i},expression:"layerDrawerVisible"}},[t("q-list",e._l(e.viewmodel.layers,(function(i){return t("q-expansion-item",{key:i.label,attrs:{clickable:"","expand-icon":i.children?"":"0"},scopedSlots:e._u([{key:"header",fn:function(){return[t("q-item-section",{attrs:{avatar:""}},[t("q-toggle",{on:{input:function(i){return e.updateVisibility()}},model:{value:i.visible,callback:function(t){e.$set(i,"visible",t)},expression:"layer.visible"}})],1),t("q-item-section",[e._v("\n            "+e._s(i.label)+"\n          ")])]},proxy:!0}],null,!0)},[t("q-card",[t("q-card-section",[e._v("\n            Still working on child layer UI\n          ")])],1)],1)})),1)],1),t("q-drawer",{attrs:{bordered:"",overlay:"","content-class":"bg-grey-2"},model:{value:e.viewDrawerVisible,callback:function(i){e.viewDrawerVisible=i},expression:"viewDrawerVisible"}},[t("q-list",{attrs:{bordered:""}},[e.viewmodel.model2Exists?t("q-item",[t("q-item-section",[e._v("Model 1")])],1):e._e(),t("q-item",{attrs:{"inset-level":.3}},[t("q-item-section",[t("q-select",{attrs:{outlined:"",dense:"","options-dense":"",options:e.displayModeNames},on:{input:function(i){return e.setActiveDisplayMode(e.model1DisplayModeName,!0)}},model:{value:e.model1DisplayModeName,callback:function(i){e.model1DisplayModeName=i},expression:"model1DisplayModeName"}})],1)],1)],1),e.viewmodel.model2Exists?t("q-list",[t("q-item",[t("q-item-section",[e._v("Model 2")])],1),t("q-item",{attrs:{"inset-level":.3}},[t("q-item-section",[t("q-select",{attrs:{outlined:"",dense:"","options-dense":"",options:e.displayModeNames},on:{input:function(i){return e.setActiveDisplayMode(e.model2DisplayModeName,!1)}},model:{value:e.model2DisplayModeName,callback:function(i){e.model2DisplayModeName=i},expression:"model2DisplayModeName"}})],1)],1)],1):e._e(),t("q-list",{attrs:{bordered:""}},[e.viewmodel.model2Exists?t("q-item",[t("q-item-section",[e._v("General")])],1):e._e(),t("q-item",{attrs:{dense:"","inset-level":.3}},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:"grid_on"}})],1),t("q-item-section",[t("q-item-label",[e._v("Grid")])],1),t("q-item-section",{attrs:{side:""}},[t("q-toggle",{on:{input:function(i){return e.updateVisibility()}},model:{value:e.viewmodel.showGrid,callback:function(i){e.$set(e.viewmodel,"showGrid",i)},expression:"viewmodel.showGrid"}})],1)],1),e.viewmodel.model2Exists?t("q-item",{attrs:{"inset-level":.3}},[t("q-option-group",{attrs:{options:[{label:"Swipe Compare",value:0},{label:"Blend Compare",value:1}],outlined:""},model:{value:e.viewmodel.compareMode,callback:function(i){e.$set(e.viewmodel,"compareMode",i)},expression:"viewmodel.compareMode"}})],1):e._e()],1)],1),t("q-page-container",[t("router-view")],1)],1)},a=[],o=(t("ace4"),t("e6cf"),t("5cc6"),t("436a")),r=t("cbaf"),s={data(){let e=o["a"].viewModel();return{layerDrawerVisible:!1,fileDrawerVisible:!0,viewDrawerVisible:!1,viewmodel:e,drawers:{FILE:1,LAYER:2,VIEW:3},backgroundModes:r["a"].backgroundModes,model1DisplayModeName:e.model1.displayMode.name,model2DisplayModeName:e.model2.displayMode.name}},computed:{displayModeNames(){let e=[];return r["a"].defaultModes().forEach(i=>{e.push(i.name)}),Object.freeze(e)},model1Exists(){return this.viewmodel.model1.exists},sampleModels(){return["Clip.3dm","Drill.3dm","RhinoLogo.3dm","RhinoLogoSubD.3dm","Ring.3dm","Teacup.3dm","Teapots.3dm"]},title(){let e=o["a"].applicationTitle();return this.viewmodel.model1.name.length>0&&(e=this.viewmodel.model1.name,this.viewmodel.model2.name.length>0&&(e+=" | "+this.viewmodel.model2.name)),e}},methods:{toggleDrawer(e){this.fileDrawerVisible=e===this.drawers.FILE&&!this.fileDrawerVisible,this.layerDrawerVisible=e===this.drawers.LAYER&&!this.layerDrawerVisible,this.viewDrawerVisible=e===this.drawers.VIEW&&!this.viewDrawerVisible},openSample(e,i){const t="samples/"+e;fetch(t).then(t=>{let l=t.arrayBuffer();l.then(t=>{o["a"].openFile(e,new Uint8Array(t),!i),this.fileDrawerVisible=!1})})},openFile(e){let i=document.createElement("input");const t=this;let l=function(l){let a=l.target.files[0];if(!a)return;let r=new FileReader;r.onload=function(l){var r=l.target.result;const s=o["a"].openFile(a.name,r,e);document.body.removeChild(i),s&&(t.fileDrawerVisible=!1)},a.name.endsWith(".obj")||a.name.endsWith(".ply")?r.readAsText(a):r.readAsArrayBuffer(a)};i.type="file",i.accept=".3dm, .obj, .drc, .ply",i.style.display="none",i.onchange=l,document.body.appendChild(i);let a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(a)},setActiveDisplayMode(e,i){o["a"].setActiveDisplayMode(e,i)},updateVisibility(){o["a"].updateVisibility()}}},n=s,d=t("2877"),c=t("4d5a"),m=t("e359"),p=t("65c6"),u=t("9c40"),v=t("05c0"),b=t("6ac5"),w=t("9404"),q=t("1c1c"),f=t("66e5"),y=t("4074"),D=t("f20b"),h=t("0170"),g=t("0016"),M=t("3b73"),_=t("9564"),V=t("f09f"),k=t("a370"),E=t("ddd8"),x=t("9f0a"),Q=t("09e3"),N=t("7f67"),I=t("714f"),L=t("eebe"),S=t.n(L),A=Object(d["a"])(n,l,a,!1,null,null,null);i["default"]=A.exports;S()(A,"components",{QLayout:c["a"],QHeader:m["a"],QToolbar:p["a"],QBtn:u["a"],QTooltip:v["a"],QToolbarTitle:b["a"],QDrawer:w["a"],QList:q["a"],QItem:f["a"],QItemSection:y["a"],QBtnDropdown:D["a"],QItemLabel:h["a"],QIcon:g["a"],QExpansionItem:M["a"],QToggle:_["a"],QCard:V["a"],QCardSection:k["a"],QSelect:E["a"],QOptionGroup:x["a"],QPageContainer:Q["a"]}),S()(A,"directives",{ClosePopup:N["a"],Ripple:I["a"]})}}]);