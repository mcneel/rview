(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{0:function(e,n,r){e.exports=r("2f39")},"0047":function(e,n,r){},"1bee":function(e,n,r){"use strict";r("28a5"),r("aef6");var t=r("5a89"),o=(r("7f7f"),r("5a15")),i={readFile:function(e,n){var r=w.getRhino3dm(),t=new o["a"],i=t.parse(n),a=new r.File3dm,l=new r.Layer;l.name="Default",a.layers().add(l);var c=new r.ObjectAttributes;return c.layersIndex=0,i.children.forEach((function(e){if("Mesh"===e.type){var n=r.Mesh.createFromThreejsJSON(e.geometry.toJSON());e.material.color?(c.colorSource=r.ObjectColorSource.ColorFromObject,c.objectColor={r:255*e.material.color.r,g:255*e.material.color.g,b:255*e.material.color.b,a:255}):c.colorSource=r.ObjectColorSource.ColorFromLayer,a.objects().addMesh(n,c)}})),a}},a=i,l={readFile:function(e,n){var r=w.getRhino3dm(),t=r.DracoCompression.decompressByteArray(n),o=new r.File3dm,i=new r.Layer;i.name="Default",o.layers().add(i);var a=new r.ObjectAttributes;a.layersIndex=0,o.objects().addMesh(t,a),w.setActiveDoc(e,o)}},c=l,u=r("21cb"),s={readFile:function(e,n){var r=w.getRhino3dm(),t=new u["a"],o=t.parse(n),i=new r.File3dm,a=new r.Layer;a.name="Default",i.layers().add(a);var l=new r.ObjectAttributes;l.layersIndex=0;var c=r.Mesh.createFromThreejsJSON(o.toJSON());return i.objects().addMesh(c,l),i}},d=s,h=null,f=null,b=[],g={docExists:!1,filename:"rview WIP",expanded:["Layers"],layers:[],perspectiveCamera:!0,onChangeCamera:function(){},gridVisible:!0,lightColor:"rgb(240,240,240)",currentBackgroundStyle:"Single Color",backgroundOptions:["Single Color","2 Color Gradient"],backgroundColor:"rgb(190,190,190)",backgroundGradientTop:"rgb(54,109,168)",backgroundGradientBottom:"rgb(165,165,165)"},p={rhinoDoc:null,three:{background:null,middleground:null,setBackground:null},threeObjectsOnLayer:{},threeGrid:null,cameraLight:null};function v(e,n,r){n.forEach((function(n){e.layers.hasOwnProperty(n)||(e.layers[n]={visible:!0,layers:{}}),e=e.layers[n]})),e.visible=r.visible}function m(e){var n=[],r=Object.getOwnPropertyNames(e.layers);return r.forEach((function(r){var t={label:r,visible:e.layers[r].visible},o=m(e.layers[r]);o.length>0&&(t.children=o),n.push(t)})),n}var y={init:function(e,n,r){var t=this;if(null==h){var o=e();console.log("start loading rhino3dm"),n(),o.then((function(e){if(h=e,r(),console.log("rhino3dm loaded"),null!=f){var n=f[0],o=f[1];f=null,t.openFile(n,o)}}))}},getRhino3dm:function(){return h},viewModel:function(){return g},updateVisibility:function(){g.layers.forEach((function(e){var n=p.threeObjectsOnLayer[e.label];null!=n&&n.forEach((function(n){n.visible=e.visible}))})),p.threeGrid&&(p.threeGrid.visible=g.gridVisible)},updateColors:function(){p.cameraLight.color=new t["f"](g.lightColor),g.currentBackgroundStyle===g.backgroundOptions[0]?p.three.setBackground(p.three.background,g.backgroundColor):g.currentBackgroundStyle===g.backgroundOptions[1]?p.three.setBackground(p.three.background,g.backgroundGradientTop,g.backgroundGradientBottom):p.three.setBackground(p.three.background,null,null,g.currentBackgroundStyle)},openFile:function(e,n){if(null!=h)if(e.endsWith(".obj")){var r=a.readFile(e,n);this.setActiveDoc(e,r)}else if(e.endsWith(".drc"))c.readFile(e,n);else if(e.endsWith(".ply")){var t=d.readFile(e,n);this.setActiveDoc(e,t)}else{var o=h.File3dm.fromByteArray(n);this.setActiveDoc(e,o)}else f=[e,n]},setActiveDoc:function(e,n){if(console.log("setActiveDoc ("+e+")"),p.rhinoDoc&&p.rhinoDoc.delete(),this.disposeMiddleground(),p.threeObjectsOnLayer={},p.rhinoDoc=n,g.docExists=null!=n,g.filename=e,g.layers.length=0,n){for(var r=n.layers(),t=r.count(),o={layers:{},visible:!0},i=0;i<t;i++){var a=r.get(i),l=a.fullPath,c=l.split("::");v(o,c,a),a.delete()}g.layers=m(o),r.delete()}b.forEach((function(e){e()}))},getActiveModel:function(){return p},addActiveDocChangedEventWatcher:function(e){b.push(e)},disposeMiddleground:function(){p.three.middleground&&(p.three.middleground.dispose(),p.three.middleground=null)},visibleObjectsBoundingBox:function(){var e=null;return g.layers.forEach((function(n){if(n.visible){var r=p.threeObjectsOnLayer[n.label];null!=r&&r.forEach((function(n){null!=n.boundingBox&&(null==e?e=n.boundingBox.clone():e.union(n.boundingBox))}))}})),e}},w=n["a"]=y},"2f39":function(e,n,r){"use strict";r.r(n);var t=r("967e"),o=r.n(t),i=(r("96cf"),r("fa84")),a=r.n(i),l=(r("7d6e"),r("e54f"),r("985d"),r("0047"),r("2b0e")),c=r("1f91"),u=r("42d2"),s=r("b05d"),d=r("f508");l["a"].use(s["a"],{config:{loading:{}},lang:c["a"],iconSet:u["a"],plugins:{Loading:d["a"]}});var h=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{attrs:{id:"q-app"}},[r("router-view")],1)},f=[],b=r("1bee"),g={name:"App",mounted:function(){b["a"].init(window.rhino3dm,this.showLoading,this.hideLoading)},methods:{showLoading:function(){this.$q.loading.show()},hideLoading:function(){this.$q.loading.hide()}}},p=g,v=r("2877"),m=Object(v["a"])(p,h,f,!1,null,null,null),y=m.exports,w=r("8c4f"),k=[{path:"/",component:function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,"713b"))},children:[{path:"",component:function(){return Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"8b24"))}},{path:"/view",component:function(){return Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"8b24"))},props:function(e){return{query:e.query.q}}}]}];k.push({path:"*",component:function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,"e51e"))}});var O=k;l["a"].use(w["a"]);var j=function(){var e=new w["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:O,mode:"hash",base:""});return e},x=function(){return B.apply(this,arguments)};function B(){return B=a()(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof j){e.next=6;break}return e.next=3,j({Vue:l["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=j;case 7:return n=e.t0,r={el:"#q-app",router:n,render:function(e){return e(y)}},e.abrupt("return",{app:r,router:n});case 10:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function C(){return F.apply(this,arguments)}function F(){return F=a()(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:n=e.sent,r=n.app,n.router,new l["a"](r);case 6:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}C()}},[[0,3,0]]]);