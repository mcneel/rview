(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"1c86":function(e,n,t){"use strict";t.r(n);var i,o,a,r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("q-page",{staticClass:"fit row"},[t("div",{ref:"myCanvas",staticClass:"col q-gutter-xs",attrs:{id:"cvs"}})])},d=[],s=(t("63d9"),t("5a89")),c=t("4721"),w=t("1bee"),l=null;function v(){l&&l.dispose(),l=new s["s"],l.background=new s["d"](.9,.9,.9);var e=new s["e"](16777215);e.position.set(0,0,1),l.add(e);var n=new s["e"](6710886);n.position.set(.2,.2,-1),l.add(n)}function u(){s["n"].DefaultUp=new s["w"](0,0,1),v(),i=new s["o"](30,window.innerWidth/window.innerHeight,1,1e3),i.position.z=40,o=new s["x"]({antialias:!0}),o.setPixelRatio(window.devicePixelRatio),o.setSize(window.innerWidth,window.innerHeight);var e=document.getElementById("cvs");e.appendChild(o.domElement),a=new c["a"](i,o.domElement),window.addEventListener("resize",p,!1),f()}var f=function e(){requestAnimationFrame(e),a.update(),o.render(l,i)};function p(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight),f()}function g(e,n){var t=new s["c"],i=t.parse(e.toThreejsJSON());0===n.r&&0===n.g&&0===n.b&&(n.r=255,n.g=255,n.b=255);var o=new s["d"](n.r/255,n.g/255,n.b/255),a=new s["m"]({color:o,side:s["f"]});return new s["l"](i,a)}function h(){console.log("activedoc changed"),v();for(var e=w["a"].getRhino3dm(),n=w["a"].getActiveDoc(),t=n.objects(),a=0;a<t.count;a++){var r=t.get(a);if(null!=r){var d=r.geometry(),c=r.attributes(),u=c.drawColor(n);if(d instanceof e.Mesh){var f=g(d,u);l.add(f)}if(d instanceof e.Brep){for(var p=d.faces(),h=0;h<p.count;h++){var m=p.get(h),b=m.getMesh(e.MeshType.Any);if(b){var x=g(b,u);l.add(x),b.delete()}m.delete()}p.delete()}if(d instanceof e.Curve){var y=21;d instanceof e.LineCurve?y=2:d instanceof e.PolylineCurve&&(y=d.pointCount);for(var C=new s["b"],P=new Float32Array(3*y),A=d.domain,E=y-1,j=0;j<y;j++){var z=A[0]+j/E*(A[1]-A[0]),W=d.pointAt(z);P[3*j]=W[0],P[3*j+1]=W[1],P[3*j+2]=W[2]}C.setAttribute("position",new s["a"](P,3));var q=new s["d"](u.r/255,u.g/255,u.b/255),B=new s["j"]({color:q}),H=new s["i"](C,B);l.add(H)}if(d instanceof e.Point){var M=new s["q"]({color:u}),S=new s["h"],k=d.location;S.vertices.push(new s["w"](k[0],k[1],k[2])),l.add(new s["p"](S,M))}r.delete(),d.delete(),c.delete()}}var D=t.getBoundingBox();t.delete();var J=new e.ViewportInfo;J.isPerspectiveProjection=!0;var L=new s["v"](0,0);o.getSize(L),J.screenPort=[0,0,L.x,L.y],J.dollyExtents(D,0);var R=J.cameraLocation;i.position.x=R[0],i.position.y=R[1],i.position.z=R[2],J.delete()}var m={created:function(){w["a"].addActiveDocChangedEventWatcher(h)},mounted:function(){u(),h()}},b=m,x=t("2877"),y=t("eebe"),C=t.n(y),P=t("9989"),A=Object(x["a"])(b,r,d,!1,null,null,null);n["default"]=A.exports;C()(A,"components",{QPage:P["a"]})}}]);