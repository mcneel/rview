(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"713b":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{attrs:{view:"hHh lpR fFf"}},[i("q-header",{attrs:{elevated:""}},[i("q-toolbar",[i("q-btn",{attrs:{dense:"",flat:!e.fileDrawerVisible,icon:"folder",color:e.fileDrawerVisible?"secondary":""},on:{click:function(t){return e.toggleDrawer(e.drawers.FILE)}}},[i("q-tooltip",[e._v("Open...")])],1),i("q-btn",{attrs:{dense:"",flat:!e.layerDrawerVisible,color:e.layerDrawerVisible?"secondary":"",icon:"layers",disable:!e.model1Exists},on:{click:function(t){return e.toggleDrawer(e.drawers.LAYER)}}},[i("q-tooltip",[e._v("Layers")])],1),i("q-btn",{attrs:{dense:"",flat:!e.viewDrawerVisible,color:e.viewDrawerVisible?"secondary":"",icon:"aspect_ratio",disable:!e.model1Exists},on:{click:function(t){return e.toggleDrawer(e.drawers.VIEW)}}},[i("q-tooltip",[e._v("Display options")])],1),i("q-toolbar-title"),i("div",[e._v(e._s(e.title))])],1)],1),i("q-drawer",{attrs:{bordered:"",overlay:"","content-class":"bg-grey-2"},model:{value:e.fileDrawerVisible,callback:function(t){e.fileDrawerVisible=t},expression:"fileDrawerVisible"}},[i("q-list",{attrs:{bordered:""}},[i("q-item",[i("q-item-section",[e._v("Model 1")])],1),i("q-item",{attrs:{"inset-level":.3}},[i("q-btn-dropdown",{staticClass:"full-width",attrs:{"no-caps":"",label:"Open Sample",icon:"img:logo.png"}},[i("q-list",e._l(e.sampleModels,(function(t){return i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t,attrs:{clickable:""},on:{click:function(i){return e.openSample(t,!0)}}},[i("q-item-section",[i("q-item-label",[e._v(e._s(t))])],1)],1)})),1)],1)],1),i("q-item",{attrs:{"inset-level":.3}},[i("q-btn",{staticClass:"full-width",attrs:{"no-caps":"",label:"Open...",icon:"folder"},on:{click:function(t){return e.openFile(!1)}}})],1)],1),i("q-list",[i("q-item",{attrs:{disable:!e.model1Exists}},[i("q-item-section",[e._v("Model 2")])],1),i("q-item",{attrs:{"inset-level":.3,disable:!e.model1Exists}},[i("q-btn-dropdown",{staticClass:"full-width",attrs:{"no-caps":"",label:"Open Sample",icon:"img:logo.png"}},[i("q-list",e._l(e.sampleModels,(function(t){return i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t,attrs:{clickable:""},on:{click:function(i){return e.openSample(t,!1)}}},[i("q-item-section",[i("q-item-label",[e._v(e._s(t))])],1)],1)})),1)],1)],1),i("q-item",{attrs:{"inset-level":.3}},[i("q-btn",{staticClass:"full-width",attrs:{"no-caps":"",label:"Open...",icon:"folder"},on:{click:function(t){return e.openFile(!0)}}})],1)],1)],1),i("q-drawer",{attrs:{bordered:"",overlay:"","content-class":"bg-grey-2"},model:{value:e.layerDrawerVisible,callback:function(t){e.layerDrawerVisible=t},expression:"layerDrawerVisible"}},[i("q-list",e._l(e.viewmodel.layers,(function(t){return i("q-expansion-item",{key:t.label,attrs:{clickable:"","expand-icon":t.children?"":"0"},scopedSlots:e._u([{key:"header",fn:function(){return[i("q-item-section",{attrs:{avatar:""}},[i("q-toggle",{on:{input:function(t){return e.updateVisibility()}},model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"layer.visible"}})],1),i("q-item-section",[e._v("\n            "+e._s(t.label)+"\n          ")])]},proxy:!0}],null,!0)},[i("q-card",[i("q-card-section",[e._v("\n            Still working on child layer UI\n          ")])],1)],1)})),1)],1),i("q-drawer",{attrs:{bordered:"",overlay:"","content-class":"bg-grey-2"},model:{value:e.viewDrawerVisible,callback:function(t){e.viewDrawerVisible=t},expression:"viewDrawerVisible"}},[i("q-list",{attrs:{bordered:""}},[e.viewmodel.model2Exists?i("q-item",[i("q-item-section",[e._v("Model 1")])],1):e._e(),i("q-item",{attrs:{"inset-level":.3}},[i("q-item-section",[i("q-select",{attrs:{outlined:"",dense:"","options-dense":"",options:e.displayModeNames},on:{input:function(t){return e.setActiveDisplayMode(e.model1DisplayModeName,!0)}},model:{value:e.model1DisplayModeName,callback:function(t){e.model1DisplayModeName=t},expression:"model1DisplayModeName"}})],1)],1)],1),e.viewmodel.model2Exists?i("q-list",[i("q-item",[i("q-item-section",[e._v("Model 2")])],1),i("q-item",{attrs:{"inset-level":.3}},[i("q-item-section",[i("q-select",{attrs:{outlined:"",dense:"","options-dense":"",options:e.displayModeNames},on:{input:function(t){return e.setActiveDisplayMode(e.model2DisplayModeName,!1)}},model:{value:e.model2DisplayModeName,callback:function(t){e.model2DisplayModeName=t},expression:"model2DisplayModeName"}})],1)],1)],1):e._e(),i("q-list",{attrs:{bordered:""}},[e.viewmodel.model2Exists?i("q-item",[i("q-item-section",[e._v("General")])],1):e._e(),i("q-item",{attrs:{dense:"","inset-level":.3}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"grid_on"}})],1),i("q-item-section",[i("q-item-label",[e._v("Grid")])],1),i("q-item-section",{attrs:{side:""}},[i("q-toggle",{on:{input:function(t){return e.updateVisibility()}},model:{value:e.viewmodel.showGrid,callback:function(t){e.$set(e.viewmodel,"showGrid",t)},expression:"viewmodel.showGrid"}})],1)],1),e.viewmodel.model2Exists?i("q-item",{attrs:{"inset-level":.3}},[i("q-option-group",{attrs:{options:[{label:"Swipe Compare",value:0},{label:"Blend Compare",value:1}],outlined:""},model:{value:e.viewmodel.compareMode,callback:function(t){e.$set(e.viewmodel,"compareMode",t)},expression:"viewmodel.compareMode"}})],1):e._e()],1)],1),i("q-page-container",[i("router-view")],1)],1)},a=[],o=(i("ace4"),i("e6cf"),i("5cc6"),i("436a")),s=i("cbaf"),r={data(){let e=o["a"].viewModel();return{layerDrawerVisible:!1,fileDrawerVisible:!0,viewDrawerVisible:!1,viewmodel:e,drawers:{FILE:1,LAYER:2,VIEW:3},backgroundModes:s["a"].backgroundModes,model1DisplayModeName:e.model1.displayMode.name,model2DisplayModeName:e.model2.displayMode.name}},computed:{displayModeNames(){let e=[];return s["a"].defaultModes().forEach(t=>{e.push(t.name)}),Object.freeze(e)},model1Exists(){return this.viewmodel.model1.exists},sampleModels(){return["RhinoLogo.3dm","RhinoLogoSubD.3dm","Clip.3dm","Drill.3dm","Ring.3dm","Teacup.3dm","Teapots.3dm"]},title(){let e=o["a"].applicationTitle();return this.viewmodel.model1.name.length>0&&(e=this.viewmodel.model1.name,this.viewmodel.model2.name.length>0&&(e+=" | "+this.viewmodel.model2.name)),e}},methods:{toggleDrawer(e){this.fileDrawerVisible=e===this.drawers.FILE&&!this.fileDrawerVisible,this.layerDrawerVisible=e===this.drawers.LAYER&&!this.layerDrawerVisible,this.viewDrawerVisible=e===this.drawers.VIEW&&!this.viewDrawerVisible},openSample(e,t){const i="samples/"+e;fetch(i).then(i=>{let l=i.arrayBuffer();l.then(i=>{o["a"].openFile(e,new Uint8Array(i),!t),this.fileDrawerVisible=!1})})},openFile(e){let t=document.createElement("input");const i=this;let l=function(l){let a=l.target.files[0];if(!a)return;let s=new FileReader;s.onload=function(l){var s=l.target.result;const r=o["a"].openFile(a.name,s,e);document.body.removeChild(t),r&&(i.fileDrawerVisible=!1)},a.name.endsWith(".obj")||a.name.endsWith(".ply")?s.readAsText(a):s.readAsArrayBuffer(a)};t.type="file",t.accept=".3dm, .obj, .drc, .ply",t.style.display="none",t.onchange=l,document.body.appendChild(t);let a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(a)},setActiveDisplayMode(e,t){o["a"].setActiveDisplayMode(e,t)},updateVisibility(){o["a"].updateVisibility()}}},n=r,d=i("2877"),c=i("4d5a"),m=i("e359"),p=i("65c6"),u=i("9c40"),b=i("05c0"),w=i("6ac5"),v=i("9404"),f=i("1c1c"),q=i("66e5"),y=i("4074"),D=i("f20b"),h=i("0170"),g=i("3b73"),M=i("9564"),V=i("f09f"),_=i("a370"),k=i("ddd8"),E=i("0016"),x=i("9f0a"),Q=i("09e3"),N=i("7f67"),C=i("eebe"),I=i.n(C),L=Object(d["a"])(n,l,a,!1,null,null,null);t["default"]=L.exports;I()(L,"components",{QLayout:c["a"],QHeader:m["a"],QToolbar:p["a"],QBtn:u["a"],QTooltip:b["a"],QToolbarTitle:w["a"],QDrawer:v["a"],QList:f["a"],QItem:q["a"],QItemSection:y["a"],QBtnDropdown:D["a"],QItemLabel:h["a"],QExpansionItem:g["a"],QToggle:M["a"],QCard:V["a"],QCardSection:_["a"],QSelect:k["a"],QIcon:E["a"],QOptionGroup:x["a"],QPageContainer:Q["a"]}),I()(L,"directives",{ClosePopup:N["a"]})}}]);